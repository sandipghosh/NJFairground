@using NJFairground.Web.Utilities
@{
    ViewBag.Title = "Direction To Fairground | Sussex County Fairgrounds";
    ViewBag.PageId = "map";
    Layout = "~/Views/Shared/_LayoutPage.mobile.cshtml";
}
@section PageScript{
    <script type="text/javascript" src="http://maps.google.com/maps/api/js?sensor=true"></script>
    @*<script type="text/javascript" src="https://raw.github.com/HPNeo/gmaps/master/gmaps.js"></script>*@
    @*<script src="https://maps.googleapis.com/maps/api/js?v=3.exp&sensor=false&callback=initialize"></script>*@
    <script type="text/javascript" src='@Url.Content("~/Scripts/gmap3.min.js")'></script>
    <script type="text/javascript" src='@Url.Content("~/Scripts/gmaps.js")'></script>
    <script type="text/javascript">
        $(document).ready(function () {
            

            
        });

        $('#btnSearch').live("tap", function () {
            $("#test").gmap3({
                getroute: {
                    options: {
                        origin: $('#origin').val(),//"New Jersey State Fair 37 Plains Road Augusta, NJ 07822", //"48 Pirrama Road, Pyrmont NSW",
                        destination: $('#destination').val(),//"New Jersey State Fair P.O. Box 2456 Branchville, NJ 07826",//"Bondi Beach, NSW",
                        travelMode: google.maps.DirectionsTravelMode.DRIVING
                    },
                    callback: function (results) {
                        if (!results) return;
                        $(this).gmap3({
                            map: {
                                options: {
                                    zoom: 13,
                                    center: [-33.879, 151.235]
                                }
                            },
                            directionsrenderer: {
                                container: $(document.createElement("div")).addClass("googlemap").insertAfter($("#test")),
                                options: {
                                    directions: results
                                }
                            }
                        });
                    }
                }
            });
        });
    </script>
}


<h2 class="title">Directions to Fairgrounds</h2>
<div class="ui-grid-solo inner-page">
    <div style="float: left; width: 70%;">
        @Html.TextBox("origin", "New Jersey State Fair P.O. Box 2456 Branchville, NJ 07826", new { style = "width:90%;" })

    </div>
    <div>
        <img id="btnSearch" style="width:35px"  src='@Url.Content(string.Format("{0}{1}", CommonUtility.GetAppSetting<string>("UploadFolderItemImagePath"), "search.png"))' alt="">
    </div>
    @*<img class="inner-banner map" src='@Url.Content("~/Styles/images/direction-map.jpg")' alt="">*@
    <div id="test"></div>
</div>
@Html.Hidden("destination", CommonUtility.GetAppSetting<string>("FairGroundAddress"))